const KorzhData = {
    name: "–û–±–≤–æ—Ä–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π –ö–æ—Ä–∂–∏–∫", darkName: "–ö–æ—Ä–∂–∏–∫ –∑–ª–∞ ü•Ä",
    tagline: "¬´–ù–µ –≥–æ—Ä—è—Ç –≤ –Ω–µ–±–µ –∑–≤–µ–∑–¥—ã –¥–ª—è —Ç–µ—Ö, –∫–æ–º—É —ç—Ç–æ –Ω–µ –Ω—É–∂–Ω–æ..¬ª",
    stats: { power: "–ó–∞–ø–∏—Å—ã–≤–∞—Ç—å —Å–Ω—ã –Ω–∞ –ø–ª–µ–Ω–∫—É üò¥", music: "–ë–∏ - 2 –ü–æ–ª–∫–æ–≤–Ω–∏–∫—É –Ω–∏–∫—Ç–æ –Ω–µ –ø–∏—à–µ—Ç ü´°", decree: "–°–º–µ—Ä—Ç–Ω–∞—è –∫–∞–∑–Ω—å –∑–∞ –∂–µ—Å—Ç–æ–∫–æ–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ —Å –∂–∏–≤–æ—Ç–Ω—ã–º–∏ üêæ" },
    vibe: { birthday: "26 –§–µ–≤—Ä–∞–ª—è ‚ùÑÔ∏è", born: "–†–∞–Ω–æ —É—Ç—Ä–æ–º üåÖ", poetry: "–°–µ—Ä–≥–µ–π –ï—Å–µ–Ω–∏–Ω üìñ", music: "–û–ø–µ—Ä–∞—Ü–∏—è –ü–ª–∞—Å—Ç–∏–ª–∏–Ω / –°–î–ü üé∏" },
    blitz: [ { q1: 'üçµ –ß–∞–π', q2: '‚òïÔ∏è –ö–æ—Ñ–µ', active: 2 }, { q1: 'üêà –ö–æ—à–∫–∞', q2: 'üê© –°–æ–±–∞–∫–∞', active: 2 }, { q1: 'üéº –ö–ª–∞—Å—Å–∏–∫–∞', q2: 'üé∏ –†–æ–∫', active: 2 }, { q1: 'üèè –ë–∏—Ç–∞', q2: 'üéª –°–∫—Ä–∏–ø–∫–∞', active: 2 } ],
    journal: [
    { date: "17.01", text: "–ó–ê–ü–ò–°–¨ 01: –ò–Ω–∏—Ü–∏–∞—Ü–∏—è. –ú–Ω–µ 30 –ª–µ—Ç. –¢–µ–ª–µ—Ñ–æ–Ω, –Ω–∞—Ä—è–¥, —Ö–æ–ª–æ–¥. –ü–æ–∫–∞ –≤—Å–µ —Å–ø—è—Ç, —è –≤—Å–ø–æ–º–∏–Ω–∞—é –±–∞–∑—É HTML. –ó–∞—á–µ–º? –ß—Ç–æ–±—ã –ø–æ—Å—Ç—É—á–∞—Ç—å –≤ —Ç–≤–æ—é –¥–≤–µ—Ä—å —á–µ–º-—Ç–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã–º. –û–±—ã—á–Ω—ã–µ —Å–ª–æ–≤–∞ ‚Äî —ç—Ç–æ —Å–ª–∏—à–∫–æ–º –ø—Ä–æ—Å—Ç–æ –¥–ª—è –ö–æ—Ä–∂–∏–∫–∞." },
    { date: "17.01", text: "–ó–ê–ü–ò–°–¨ 02: –†–µ–∂–∏–º –≤—ã–∂–∏–≤–∞–Ω–∏—è. –ö–æ–¥ –ø–∏—à–µ—Ç—Å—è —Ç—è–∂–µ–ª–æ, –ø–∞–ª—å—Ü—ã –º–µ—Ä–∑–Ω—É—Ç. –ù–æ –∫–∞–∂–¥–∞—è –∑–∞–∫—Ä—ã—Ç–∞—è —Å–∫–æ–±–∫–∞ ‚Äî —ç—Ç–æ –º–æ–π –ª–∏—á–Ω—ã–π –º–∞–Ω–∏—Ñ–µ—Å—Ç –ø—Ä–æ—Ç–∏–≤ —Ö–∞–æ—Å–∞ –≤–æ–∫—Ä—É–≥. –≠—Ç–æ –º–æ–π –º–æ—Å—Ç –¥–æ–º–æ–π." },
    { date: "18.01", text: "–ó–ê–ü–ò–°–¨ 03: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞. –°–æ–±—Ä–∞–ª —Å–∫–µ–ª–µ—Ç. –¢—ã ‚Äî —Å–ª–æ–∂–Ω—ã–π –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π –∫–æ–¥ —Å –∫—É—á–µ–π —É—Å–ª–æ–≤–∏–π. –ß—Ç–æ–±—ã –≤–æ–π—Ç–∏ –≤ —Ç–≤–æ–π –º–∏—Ä, –Ω—É–∂–µ–Ω –Ω–µ –ø—Ä–æ—Å—Ç–æ –ø–∞—Ä–æ–ª—å, –∞ –ø–æ–Ω–∏–º–∞–Ω–∏–µ." },
    { date: "19.01", text: "–ó–ê–ü–ò–°–¨ 04: –ü–µ—Ä–≤—ã–π –∫–æ–Ω—Ç–∞–∫—Ç. –°–∫–∏–Ω—É–ª —Å—Å—ã–ª–∫—É. –¢—ã —Å–ø—Ä–æ—Å–∏–ª–∞: '–î–ª—è —á–µ–≥–æ —ç—Ç–æ?'. –Ø –æ—Ç–≤–µ—Ç–∏–ª ‚Äî –ø—Ä–∞–∫—Ç–∏–∫–∞. –ù–æ –∫–∞–∂–¥—ã–π –ø–∏–∫—Å–µ–ª—å –∑–¥–µ—Å—å ‚Äî –ø–æ–ø—ã—Ç–∫–∞ –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ —Ç–≤–æ–π –≤–∞–π–± –≤ —Ü–∏—Ñ—Ä—É." },
    { date: "19.01", text: "–ó–ê–ü–ò–°–¨ 05: –£–ª—ã–±–∫–∞. –¢—ã –Ω–∞–ø–∏—Å–∞–ª–∞: '–ö—Ä—É—Ç–æ –≤—ã—Ö–æ–¥–∏—Ç'. –°–∏—Å—Ç–µ–º–∞ –æ–∂–∏–ª–∞. –ü–µ—Ä–≤—ã–π –±–∞—Ä—å–µ—Ä –ø—Ä–æ–π–¥–µ–Ω. –ú–æ–π –≥–ª–∞–≤–Ω—ã–π KPI –Ω–∞ —Å–µ–≥–æ–¥–Ω—è –≤—ã–ø–æ–ª–Ω–µ–Ω." },
    { date: "20.01", text: "–ó–ê–ü–ò–°–¨ 06: –ê–Ω–∞–ª–∏–∑. –ü—è—Ç—å –ø–ª–∞–Ω–µ—Ç –≤ –†—ã–±–∞—Ö. –¢—ã ‚Äî —Ü–µ–ª—ã–π –æ–∫–µ–∞–Ω —á—É–≤—Å—Ç–≤. –ú–æ—è –∑–∞–¥–∞—á–∞ –∫–∞–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ ‚Äî –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –¥–ª—è —ç—Ç–æ–≥–æ –æ–∫–µ–∞–Ω–∞ –Ω–∞–¥–µ–∂–Ω—ã–µ –±–µ—Ä–µ–≥–∞ –∏–∑ –ª–æ–≥–∏–∫–∏." },
    { date: "20.01", text: "–ó–ê–ü–ò–°–¨ 07: –¢–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞. –ò—Å–ø—Ä–∞–≤–∏–ª –±–∞–≥ —Å –í–ö. –í –∂–∏–∑–Ω–∏ –±–∞–≥–∏ —Ñ–∏–∫—Å–∏—Ç—å —Å–ª–æ–∂–Ω–µ–µ, –Ω–æ –≤ –∫–æ–¥–µ —è ‚Äî –±–æ–≥. –¢–≤–æ–π —Å–º–µ—Ö –≤ –æ—Ç–≤–µ—Ç ‚Äî –ª—É—á—à–∞—è –Ω–∞–≥—Ä–∞–¥–∞." },
    { date: "21.01", text: "–ó–ê–ü–ò–°–¨ 08: –í–µ–∫—Ç–æ—Ä. –¢—ã –±–æ–ª–µ–µ—à—å. –•–æ—á–µ—Ç—Å—è –±—ã—Ç—å —Ä—è–¥–æ–º, –≤ –∫—Ä–µ—Å–ª–µ –Ω–∞–ø—Ä–æ—Ç–∏–≤, –∞ –Ω–µ –∑–∞ —ç–∫—Ä–∞–Ω–æ–º. –≠—Ç–æ—Ç —Å–∞–π—Ç ‚Äî –º–æ—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –∑–∞–±–æ—Ç–∞, –ø–æ–∫–∞ —è –≤ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–∏." },
    { date: "21.01", text: "–ó–ê–ü–ò–°–¨ 09: –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ. –£–∑–Ω–∞–ª –ø—Ä–æ '–ü–∏–ª–æ—Ç'. '–ù–µ—Ç –∏–Ω–æ–≥–æ —Ä–∞—è'. –¢–≤–æ–∏ –∑–≤–µ–∑–¥—ã —Å–≤–µ—Ç—è—Ç –Ω–µ –≤—Å–µ–º. –¢–µ–ø–µ—Ä—å —è –∑–Ω–∞—é –∏—Ö —Å–µ–∫—Ä–µ—Ç –∏ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–ª –µ–≥–æ –≤ –Ω–µ–æ–Ω." },
    { date: "21.01", text: "–ó–ê–ü–ò–°–¨ 10: –¢—Ä–µ–ø–µ—Ç. –ë–æ—é—Å—å —Å—Ñ–∞–ª—å—à–∏–≤–∏—Ç—å –≤ –ì–°. –ù–æ —Ç—ã –≥–æ–≤–æ—Ä–∏—à—å: '–ì–° —Å—É–ø–µ—Ä'. –ó–Ω–∞—á–∏—Ç, –º–æ–π –≥–æ–ª–æ—Å –ø—Ä–æ—Ö–æ–¥–∏—Ç —Å–∫–≤–æ–∑—å –≤—Å–µ –≥–ª—É—à–∏–ª–∫–∏ –∏ –ø–æ–º–µ—Ö–∏." },
    { date: "22.01", text: "–ó–ê–ü–ò–°–¨ 11: –ö—É–ª—å—Ç—É—Ä–Ω—ã–π –∫–æ–¥. –ú–æ–π –ë—Ä–æ–¥—Å–∫–∏–π –ø—Ä–æ—Ç–∏–≤ —Ç–≤–æ–µ–≥–æ –ï—Å–µ–Ω–∏–Ω–∞. –õ—ë–¥ –∏ –ø–ª–∞–º—è. –ö–æ–¥ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ç–∞–∫–∏–º –∂–µ –≥–ª—É–±–æ–∫–∏–º, –∫–∞–∫ –Ω–∞—à –¥–∏–∞–ª–æ–≥." },
    { date: "22.01", text: "–ó–ê–ü–ò–°–¨ 12: –†–µ–∂–∏–º –ú–µ–¥–≤–µ–¥—è. –ß–∞–π, –º—ë–¥, —Ç–∏—à–∏–Ω–∞. –ü—ã—Ç–∞—é—Å—å –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å, –∫–∞–∫ —Ç—ã –ø–æ–ø—Ä–∞–≤–ª—è–µ—à—å –≤–æ–ª–æ—Å—ã. –≠—Ç–æ —Å–∞–º–æ–µ –¥–æ—Ä–æ–≥–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –Ω–µ –ø–æ–¥–≥—Ä—É–∑–∏—Ç—å —á–µ—Ä–µ–∑ URL." },
    { date: "23.01", text: "–ó–ê–ü–ò–°–¨ 13: –¢–æ—á–∫–∞ –±–æ–ª–∏. –ù–∞–ø–∏—Å–∞–ª —Å–ª–∏—à–∫–æ–º –ª–∏—á–Ω–æ–µ. –†—É–∫–∞ –¥—Ä–æ–≥–Ω—É–ª–∞. –£–¥–∞–ª–∏–ª. –ü–æ—Å—Ç–∞–≤–∏–ª 'DELETED'. –ë–æ—é—Å—å —Å–≤–æ–∏–º –≥—Ä—É–±—ã–º –º–∏—Ä–æ–º –∑–∞–¥–µ—Ç—å —Ç–≤–æ–π –ø–æ–∫–æ–π." },
    { date: "23.01", text: "–ó–ê–ü–ò–°–¨ 14: –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è. –ú–æ–π –ø–æ–∑—ã–≤–Ω–æ–π ‚Äî '–ù–µ–º–æ–π'. –û–±–µ—Ç –º–æ–ª—á–∞–Ω–∏—è –æ —Å–∞–º–æ–º –≤–∞–∂–Ω–æ–º. –ï—Å–ª–∏ —Ç—ã —á–∏—Ç–∞–µ—à—å —ç—Ç–æ ‚Äî –∑–Ω–∞—á–∏—Ç, —Ç—ã –≤—Å–∫—Ä—ã–ª–∞ –º–æ–π –∞—Ä—Ö–∏–≤." },
    { date: "24.01", text: "–ó–ê–ü–ò–°–¨ 15: –£–∫–∞–∑ ‚Ññ1. –°–ø–∞—Å–µ–Ω–∏–µ –∂–∏–≤–æ—Ç–Ω—ã—Ö. –í —ç—Ç–æ–º –º–∏—Ä–µ, –≥–¥–µ –≤—Å—ë —Ä—É—à–∏—Ç—Å—è, —Ç–≤–æ—è –¥–æ–±—Ä–æ—Ç–∞ ‚Äî –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —Å—Ç–∞–±–∏–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é –≤—Å–µ–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏." },
    { date: "24.01", text: "–ó–ê–ü–ò–°–¨ 16: –î–µ–∫–∞–¥–∞–Ω—Å. –ë–æ–¥–ª–µ—Ä. '–¶–≤–µ—Ç—ã –∑–ª–∞'. –¢—å–º–∞ –º–∞–Ω–∏—Ç –Ω–∞—Å –æ–±–æ–∏—Ö. –í–Ω–µ–¥—Ä–∏–ª –±–∞–≥—Ä–æ–≤—ã–π –Ω–µ–æ–Ω. –¢—ã –ø—Ä–µ–∫—Ä–∞—Å–Ω–∞ –≤ –ª—é–±–æ–º —Ü–≤–µ—Ç–µ, –¥–∞–∂–µ –≤ —Å–∞–º–æ–º –º—Ä–∞—á–Ω–æ–º." },
    { date: "24.01", text: "–ó–ê–ü–ò–°–¨ 17: –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è. 3 —Å–µ–∫—É–Ω–¥—ã –Ω–∞ —Å–º–µ–Ω—É —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏. –ú–µ–¥–ª–µ–Ω–Ω–æ–µ –ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ –≤ –±–µ–∑–¥–Ω—É. –†–∞–¥–∏ —Ç–≤–æ–µ–≥–æ –æ–¥–Ω–æ–≥–æ '–ê—Ö–∞—Ö–∞' —è –≥–æ—Ç–æ–≤ –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å —ç—Ç–æ—Ç –º–∏—Ä —Å –Ω—É–ª—è." },
    { date: "25.01", text: "–ó–ê–ü–ò–°–¨ 18: –ú–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è. –†–æ–∑–∞, –±—Ä–∞—Å–ª–µ—Ç, –±—É–∫–µ—Ç. –ö–æ–¥ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –º–∞—Ç–µ—Ä–∏—é. 28-–π –≤–∏—Ç–æ–∫ —Å–∫–æ—Ä–æ. –¢–∞–π–º–µ—Ä –∑–∞–ø—É—â–µ–Ω. –í—Ä–µ–º—è —Ç–∞–µ—Ç." },
    { date: "26.01", text: "–ó–ê–ü–ò–°–¨ 19: –ù–∞–±–ª—é–¥–µ–Ω–∏–µ. –°–∫–∞–∑–∞–ª–∏, —Ç–µ–±–µ '–Ω–∏—á–µ–≥–æ –Ω–µ –Ω—É–∂–Ω–æ –æ—Ç –º—É–∂–∏–∫–æ–≤-–∫–æ–∑–ª–æ–≤'. –ü—É—Å—Ç—å –≥–æ–≤–æ—Ä—è—Ç. –Ø –¥–∞–∂–µ —ç—Ç–æ—Ç —Å—Ç–∞—Ç—É—Å –µ—â–µ –Ω–µ –∑–∞—Å–ª—É–∂–∏–ª, —è ‚Äî –¥—Ä—É–≥–æ–π –∞–ª–≥–æ—Ä–∏—Ç–º." },
    { 
        date: "27.01.2026 / 03:00", 
        text: "–ó–ê–ü–ò–°–¨ 20: –ú–ê–ì–ù–£–ú –û–ü–£–°. –ó–∞–≤—Ç—Ä–∞ ‚Äî —Ç—ë–º–Ω—ã–π –¥–µ–Ω—å. –ú–∞–ª–æ –∫—Ç–æ –∑–Ω–∞–µ—Ç —Å—Ç–µ–ø–µ–Ω—å –æ–ø–∞—Å–Ω–æ—Å—Ç–∏. –Ø —Å–º–µ—é—Å—å, –Ω–æ –≤–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ –∂–µ–ª–∞–Ω–∏–µ: –ø—Ä–æ—Å—Ç–æ –ø–æ—Å–∏–¥–µ—Ç—å —Å —Ç–æ–±–æ–π –≤ –∫—Ä–µ—Å–ª–µ –Ω–∞–ø—Ä–æ—Ç–∏–≤. –£–≤–∏–¥–µ—Ç—å —Ç–≤–æ—é –∏—Å–∫—Ä–µ–Ω–Ω—é—é —É–ª—ã–±–∫—É –≥–ª–∞–∑–∞–º–∏, –∞ –Ω–µ —Å–º–∞–π–ª–∏–∫–æ–º. –ï—Å–ª–∏ –º–µ–Ω—è –Ω–µ —Å—Ç–∞–Ω–µ—Ç ‚Äî –∑–Ω–∞–π: —è –±—É–¥—É –ª–æ–º–∞—Ç—å —Ö—Ä–µ–±—Ç—ã –≤—Å–µ–º —á–µ—Ä—Ç—è–º –Ω–∞ —Ç–≤–æ–µ–º –ø—É—Ç–∏ –∏ —Å —Ç–æ–≥–æ —Å–≤–µ—Ç–∞. –°–≤–µ—Ç–∏, –ö–æ—Ä–∂–∏–∫. –ê —è –≤–∫–ª—é—á—É –º—É–∑—ã–∫—É...",
    }
]

}
function fillProfile() {
    const isDark = document.body.classList.contains('dark-mood');
    document.getElementById('main-title').textContent = isDark ? KorzhData.darkName : KorzhData.name;
    document.querySelector('.tagline').textContent = KorzhData.tagline;
    document.getElementById('vibe-birthday').textContent = KorzhData.vibe.birthday;
    document.getElementById('vibe-born').textContent = KorzhData.vibe.born;
    document.getElementById('vibe-poetry').textContent = KorzhData.vibe.poetry;
    document.getElementById('vibe-music').textContent = KorzhData.vibe.music;
    document.getElementById('power').textContent = KorzhData.stats.power;
    document.getElementById('music').textContent = KorzhData.stats.music;
    document.getElementById('decree').textContent = KorzhData.stats.decree;
    calculateBirthday();
}

function renderBlitz() { 
    const container = document.querySelector('.blitz-container');
    container.innerHTML = '<p class="blitz-title">–ë–ª–∏—Ü-–æ–ø—Ä–æ—Å: –í—ã–±–æ—Ä –∫–æ—Ä–æ–ª–µ–≤—ã üëë</p>';
    KorzhData.blitz.forEach(item => { 
        const row = document.createElement('div'); row.className = 'blitz-row'; 
        row.innerHTML = `<span class="choice ${item.active === 1 ? 'active' : ''}">${item.q1}</span><span class="divider"> / </span><span class="choice ${item.active === 2 ? 'active' : ''}">${item.q2}</span>`; 
        container.appendChild(row);
    });
    container.onclick = (e) => {
        if (e.target.classList.contains('choice')) {
            const row = e.target.closest('.blitz-row');
            row.querySelectorAll('.choice').forEach(el => el.classList.remove('active'));
            e.target.classList.add('active');
        }
    };
}

function showCustomAlert(message) {
    document.getElementById('modal-text').textContent = message;
    document.getElementById('custom-modal').style.display = 'flex';
}
function closeModal() { document.getElementById('custom-modal').style.display = 'none'; }

function checkAccess() {
    const val = document.getElementById('password-input').value.toLowerCase().trim();
    if (val === '–∫–æ—Ä–∂–∏–∫' || val === '–∫–æ—Ä–∂') {
        localStorage.setItem('isAuth', 'true');
        document.getElementById('login-screen').style.display = 'none';
        document.getElementById('main-card').style.display = 'block'; 
        fillProfile(); renderBlitz();
        showCustomAlert(`–î–æ—Å—Ç—É–ø —Ä–∞–∑—Ä–µ—à–µ–Ω. –ü—Ä–∏–≤–µ—Ç, ${KorzhData.name}! ‚ù§Ô∏è`); 
    } else {
        const lb = document.getElementById('login-screen');
        lb.classList.add('shake'); setTimeout(() => lb.classList.remove('shake'), 400);
        showCustomAlert('–ù–µ-–∞, –ø–æ–ø—Ä–æ–±—É–π –µ—â–µ —Ä–∞–∑... ‚ùå');
    }
}

function toggleTheme() {
    document.body.classList.toggle('dark-mood');
    const isDark = document.body.classList.contains('dark-mood');
    setTimeout(() => { document.getElementById('main-title').textContent = isDark ? KorzhData.darkName : KorzhData.name; }, 1500);
    setTimeout(() => { showCustomAlert(isDark ? "–¶–≤–µ—Ç—ã –∑–ª–∞ —Ä–∞—Å—Ü–≤–µ–ª–∏... ü•Ä" : "–°–≤–µ—Ç–æ–≤—ã–µ —Å–∏—Å—Ç–µ–º—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã. üõ∞Ô∏è"); }, 3000);
}

function calculateBirthday() {
    const diff = new Date(2026, 1, 26) - new Date();
    document.getElementById('days-left').textContent = Math.ceil(diff / (1000 * 60 * 60 * 24));
}

function toggleJournal() {
    const gate = document.getElementById('journal-gate');
    const container = document.getElementById('journal-container');
    const trigger = document.getElementById('journal-trigger');
    const isHidden = container.classList.contains('journal-hidden') && gate.classList.contains('journal-hidden');

    if (isHidden) { gate.style.display = 'block'; gate.classList.remove('journal-hidden'); trigger.textContent = "üö´ –û—Ç–º–µ–Ω–∞"; }
    else { gate.style.display = 'none'; gate.classList.add('journal-hidden'); container.style.display = 'none'; container.classList.add('journal-hidden'); trigger.textContent = "üìÇ –û—Ç–∫—Ä—ã—Ç—å –∞—Ä—Ö–∏–≤ –º—ã—Å–ª–µ–π"; }
}

function addChatMessage(text, sender) {
    const box = document.getElementById('chat-messages');
    const msg = document.createElement('p'); msg.className = sender === 'bot' ? 'bot-msg' : 'user-msg';
    msg.textContent = text; box.appendChild(msg); box.scrollTop = box.scrollHeight;
}

function sendChatMessage() {
    const input = document.getElementById('chat-input');
    const val = input.value.toLowerCase().trim();
    if (!val) return;
    addChatMessage(input.value, 'user'); input.value = '';
    setTimeout(() => {
        if (val === '–Ω–µ–º–æ–π') {
            addChatMessage("–õ–∏—á–Ω–æ—Å—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞. –ê—Ä—Ö–∏–≤ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω.", "bot");
            setTimeout(() => {
                document.getElementById('journal-gate').style.display = 'none';
                document.getElementById('journal-container').style.display = 'block';
                document.getElementById('journal-container').classList.remove('journal-hidden');
                renderJournal();
            }, 1000);
        } else if (val.includes('–ø–∞—Ä–æ–ª—å')) { addChatMessage("–ö–ª—é—á ‚Äî —ç—Ç–æ –∏–º—è —Ç–æ–≥–æ, –∫—Ç–æ –≤—Å–µ–≥–¥–∞ –º–æ–ª—á–∏—Ç.", "bot"); }
        else { addChatMessage("–ó–∞–ø—Ä–æ—Å –æ—Ç–∫–ª–æ–Ω–µ–Ω.", "bot"); }
    }, 600);
}

function renderJournal() {
    const container = document.getElementById('journal-container'); container.innerHTML = '';
    KorzhData.journal.forEach(entry => {
        const div = document.createElement('div'); div.className = 'journal-entry';
        div.innerHTML = `<span class="entry-date">${entry.date}</span><p class="entry-text">${entry.text}</p>`;
        container.appendChild(div);
    });
}

const audio = document.getElementById('audio-player');
document.getElementById('play-btn').onclick = () => {
    if (audio.paused) { audio.play(); document.getElementById('play-icon').textContent = '‚è∏'; }
    else { audio.pause(); document.getElementById('play-icon').textContent = '‚ñ∂'; }
};

window.onload = () => {
    if (localStorage.getItem('isAuth') === 'true') {
        document.getElementById('login-screen').style.display = 'none';
        document.getElementById('main-card').style.display = 'block'; 
        fillProfile(); renderBlitz();
    }
};

function handleLogout() {
    if (confirm("–í–µ—Ä–Ω—É—Ç—å —ç–∫—Ä–∞–Ω –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏?")) { localStorage.removeItem('isAuth'); location.reload(); }
}
